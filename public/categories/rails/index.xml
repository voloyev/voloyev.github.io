<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rails on Notes</title>
    <link>https://voloyev.github.io/categories/rails/</link>
    <description>Recent content in rails on Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 06 Apr 2020 22:58:00 +0200</lastBuildDate><atom:link href="https://voloyev.github.io/categories/rails/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Dance with puma and systemd</title>
      <link>https://voloyev.github.io/posts/2020-04-06-dance_with_puma_and_systemd/</link>
      <pubDate>Mon, 06 Apr 2020 22:58:00 +0200</pubDate>
      
      <guid>https://voloyev.github.io/posts/2020-04-06-dance_with_puma_and_systemd/</guid>
      <description>So I&amp;rsquo;ve tried to start my puma instance with systemd in user space.
My puma.service in jinja2 template. I use ansible to provision my server.
[Unit] Description=Puma HTTP Server After=network.target [Service] Type=simple RemainAfterExit=true WorkingDirectory={{ path_to_prod }}current Environment=RAILS_ENV=production ExecStart=/usr/local/bin/chruby-exec ruby-2.6.5 -- bundle exec puma -C {{ path_to_prod }}current/config/puma.rb -b unix://{{ path_to_prod }}shared/tmp/sockets/puma.sock ExecReload=/bin/kill -TSTP $MAINPID SyslogIdentifier=api-puma Restart=always StandardOutput={{ path_to_prod }}current/log/puma-prod.log StandardError={{ path_to_prod }}current/log/puma-prod_err.log [Install] WantedBy=multi-user.target It works, but when I logout from server it stops.</description>
    </item>
    
  </channel>
</rss>
